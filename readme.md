# スリル係数計算モデル

## 概要

このドキュメントは、遊園地の乗り物のような体験における「スリル係数」を推定するために設計された数理モデルの概要を説明する。このモデルは、Gフォース、視覚的要素（高さと角度）、速度、逆さま状態など、いくつかの寄与因子を考慮に入れている。

## 数理モデル

総スリルスコア（$S_{total}$）は、個々のスリル構成要素の合計として計算され、それぞれが重み付けされ、指数や閾値によって調整される可能性がある。

### 1. 変数とパラメータ

#### 入力変数：

* $H$: 地上からの高さ (m)。
* $V$: 速度 (m/s)。
* $A_v$: ライダーが体感する垂直方向のGフォース。
    * $A_v = 1G$：通常の静止状態。
    * $A_v = 0G$：自由落下状態。
    * $A_v < 0G$：体がシートから浮き上がる感覚（負のGフォース）。
* $\theta_d$: 軌道または動作経路の落下角度。水平面からの角度を度（°）で測定し、下向きを正とする。
* $I_{inv}$: 逆さま状態を示すバイナリ変数：
    * $I_{inv} = 1$：ライダーが逆さま状態の場合。
    * $I_{inv} = 0$：それ以外の場合。

#### モデルパラメータ：

これらのパラメータは調整可能であり、各スリル構成要素の感度と寄与度に影響を与える。

* $w_{negG}$: 負Gフォーススリルの重み。
* $p_{negG}$: 負Gフォーススリルの指数。
* $w_{posG}$: 正Gフォーススリルの重み。
* $p_{posG}$: 正Gフォーススリルの指数。
* $G_{th}$: 正Gフォースがスリルに寄与し始める閾値。
* $w_{H}$: 高さに基づく視覚スリルの重み。
* $p_{H}$: 高さに基づく視覚スリルの指数。
* $w_{V}$: 速度に基づくスリルの重み。
* $p_{V}$: 速度に基づくスリルの指数。
* $w_{inv}$: 逆さま状態スリルの重み。

### 2. 主要関数

#### 2.1. 角度係数関数 ($f_{angle}(\theta_d)$)

この関数は、落下角度 ($\theta_d$) に基づいて係数を計算し、視覚スリル要素を調整する。

$$
f_{angle}(\theta_d) = \begin{cases} 
0 & \text{if } \theta_d < 0^\circ \\
\frac{\theta_d}{90} & \text{if } 0^\circ \le \theta_d \le 90^\circ \\
1.0 + \frac{0.8}{45}(\theta_d - 90) & \text{if } 90^\circ < \theta_d \le 135^\circ \\
1.8 & \text{if } \theta_d > 135^\circ
\end{cases}
$$

#### 2.2. スリル構成要素関数

* **負Gフォーススリル ($S_{negG}$):**
    $$
    S_{negG} = w_{negG} \cdot (\max(0, -A_v))^{p_{negG}}
    $$

* **正Gフォーススリル ($S_{posG}$):**
    $$
    S_{posG} = w_{posG} \cdot (\max(0, A_v - G_{th}))^{p_{posG}}
    $$

* **視覚スリル ($S_{visual}$):**
    高さから得られるスリルで、落下角度によって調整される。
    $$
    S_{visual} = w_{H} \cdot (\max(0, H))^{p_{H}} \cdot f_{angle}(\theta_d)
    $$
    ($\max(0, H)$ の項は、高さが負にならないようにするための処理。)

* **速度スリル ($S_{speed}$):**
    $$
    S_{speed} = w_{V} \cdot (\max(0, V))^{p_{V}}
    $$
    ($\max(0, V)$ の項は、速度が負にならないようにするための処理。)

* **逆さま状態スリル ($S_{inversion}$):**
    $$
    S_{inversion} = w_{inv} \cdot I_{inv}
    $$

### 3. 総スリル関数 ($S_{total}$)

総スリルスコアは、個々のスリル構成要素の合計。

$$
S_{total} = S_{negG} + S_{posG} + S_{visual} + S_{speed} + S_{inversion}
$$

構成要素関数を代入すると、次のようになる。

$$
S_{total}(H, V, A_v, \theta_d, I_{inv}) = w_{negG} (\max(0, -A_v))^{p_{negG}} + w_{posG} (\max(0, A_v - G_{th}))^{p_{posG}} + w_{H} (\max(0, H))^{p_{H}} f_{angle}(\theta_d) + w_{V} (\max(0, V))^{p_{V}} + w_{inv} I_{inv}
$$

## パラメータ調整

さまざまな重み ($w_x$) と指数 ($p_x$)、およびGフォースの閾値 ($G_{th}$) は、モデルの挙動にとって非常に重要である。これらは通常、経験的データ、ユーザーフィードバック、または特定のアプリケーションに対する望ましい感度に基づいて調整される。

## 使用方法と解釈

このモデルは、スリルを推定するための定量的なフレームワークを提供する。
-   **入力データ**: モデルを使用するには、体験（例：ジェットコースターの乗車）中の $H, V, A_v, \theta_d, I_{inv}$ の時系列データが必要になる。
-   **出力**: モデルはスリルスコア ($S_{total}$) を出力し、これを時間とともに追跡することで、体験中にスリルがどのように変動するかを確認できる。また、個々の構成要素を分析して、特定の時点でどの要因が最もスリルに寄与しているかを理解することもできる。

このモデルは単純化されたものであり、横Gフォース、躍度（加速度の変化率）、刺激への曝露時間、心理的要素などの他の要因を組み込むことによって、さらに拡張することができる。